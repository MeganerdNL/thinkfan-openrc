#!/usr/bin/openrc-run
# Copyright 2023 MeganerdNL
# Distributed under the terms of the MIT License

description="thinkfan - A minimalist fan control program. Supports the sysfs hwmon interface and thinkpad_acpi"
command="/usr/bin/thinkfan"
command_args="-q"
pidfile="/run/thinkfan.pid"
extra_started_commands="reload"
required_files="/etc/thinkfan.conf"

depend() {
    after modules
}

reload() {
        ebegin "Reloading ${SVCNAME}"
        start-stop-daemon --signal HUP --pidfile "${pidfile}"
        eend $?
}
